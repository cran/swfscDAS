<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Introduction to swfscDAS</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Introduction to swfscDAS</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(swfscDAS)</span></code></pre></div>
<p>This document introduces you to the swfscDAS package, and
specifically its functionality and workflow. This package is intended to
standardize and streamline processing of DAS data. It was designed for
shipboard DAS data generated using the WinCruz software from the
Southwest Fisheries Science Center. However, the DAS files and the
<code>swfscDAS</code> package are and can be used by others, e.g. to
process decades of NOAA Fisheries survey data.</p>
<p>In DAS data, an event is only recorded when something changes or
happens, which can complicate processing. Thus, the main theme of this
package is enabling analyses and downstream processing by 1) determining
associated state and condition information for each event and 2) pulling
out event-specific information from the Data (Field) columns.</p>
<div id="data" class="section level2">
<h2>Data</h2>
<p>This package includes a sample DAS file, which we will use in this
document</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&quot;das_sample.das&quot;</span>, <span class="at">package =</span> <span class="st">&quot;swfscDAS&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">readLines</span>(y))</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co">#&gt; [1] &quot;1  B.062739 011313 N39:19.22 W137:36.26 1000    c    5    Y                              &quot;</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co">#&gt; [2] &quot;2  R.062739 011313 N39:19.22 W137:36.26    S                                             &quot;</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="co">#&gt; [3] &quot;3  P.062739 011313 N39:19.22 W137:36.26  280  001  126                                   &quot;</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="co">#&gt; [4] &quot;4  V.062739 011313 N39:19.22 W137:36.26    3   03  230      10.0                         &quot;</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co">#&gt; [5] &quot;5  N.062739 011313 N39:19.22 W137:36.26  023 09.8                                        &quot;</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="co">#&gt; [6] &quot;6  W.062739 011313 N39:19.22 W137:36.26    1            250  6.0                         &quot;</span></span></code></pre></div>
</div>
<div id="check-data-format" class="section level2">
<h2>Check data format</h2>
<p>The first step in processing DAS data is to ensure that the DAS file
has expected formatting and values. This package contains the
<code>das_check</code> function, which performs some basic checks. This
function is a precursor to a more comprehensive DASCHECK program, which
is currently in development. The checks performed by this function are
detailed in the function documentation, which can be accessed by running
<code>?das_check</code>. You can find the PDF with the expected DAS data
format at <a href="https://swfsc.github.io/swfscDAS/" class="uri">https://swfsc.github.io/swfscDAS/</a>, or see
<code>?das_format_pdf</code> for how to access a local copy. To check
for valid species codes using this function, you can pass the function
an SpCodes.dat file</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Code not run</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>y.check <span class="ot">&lt;-</span> <span class="fu">das_check</span>(y, <span class="at">skip =</span> <span class="dv">0</span>, <span class="at">print.cruise.nums =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="read-and-process-data" class="section level2">
<h2>Read and process data</h2>
<p>Once QA/QC is complete and you have fixed any data entry errors, you
can begin to process the DAS data. The backbone of this package is the
reading and processing steps: 1) the data from the DAS file are read
into the columns of a data frame and 2) state and condition information
are extracted for each event. This means that after processing, you can
simply look at any event (row) and determine the Beaufort, viewing
conditions, etc., at the time of the event. All other functions in the
package depend on the DAS data being in this processed state.</p>
<p>One other processing note is that the ‘DateTime’ column in the
<code>das_read</code> output has a time zone of “UTC” - this default
time zone value is meaningless and only present because POSIXct vectors
must have exactly one time zone. If you need to do conversions based on
time zone, then use the ‘OffsetGMT’ column and <code>force_tz</code> and
<code>with_tz</code> from the <code>lubridate</code> package. One reason
to do such conversions would be if data was collected in a non-local
time zone that causes the daily recorded effort to span more than one
day, since then ‘OnEffort’ values will be incorrect because
<code>das_process</code> resets the event sequence to off effort at the
beginning of a new day.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Read </span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>y.read <span class="ot">&lt;-</span> <span class="fu">das_read</span>(y, <span class="at">skip =</span> <span class="dv">0</span>)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="fu">glimpse</span>(y.read)</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co">#&gt; Rows: 259</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="co">#&gt; Columns: 20</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co">#&gt; $ Event     &lt;chr&gt; &quot;B&quot;, &quot;R&quot;, &quot;P&quot;, &quot;V&quot;, &quot;N&quot;, &quot;W&quot;, &quot;V&quot;, &quot;W&quot;, &quot;W&quot;, &quot;*&quot;, &quot;P&quot;, &quot;V&quot;, …</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co">#&gt; $ EffortDot &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, …</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co">#&gt; $ DateTime  &lt;dttm&gt; 2013-01-13 06:27:39, 2013-01-13 06:27:39, 2013-01-13 06:27:…</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co">#&gt; $ Lat       &lt;dbl&gt; 39.32033, 39.32033, 39.32033, 39.32033, 39.32033, 39.32033, …</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co">#&gt; $ Lon       &lt;dbl&gt; -137.6043, -137.6043, -137.6043, -137.6043, -137.6043, -137.…</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="co">#&gt; $ Data1     &lt;chr&gt; &quot;1000&quot;, &quot;S&quot;, &quot;280&quot;, &quot;3&quot;, &quot;023&quot;, &quot;1&quot;, &quot;3&quot;, &quot;1&quot;, &quot;1&quot;, NA, &quot;208…</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="co">#&gt; $ Data2     &lt;chr&gt; &quot;c&quot;, NA, &quot;001&quot;, &quot;03&quot;, &quot;09.8&quot;, NA, &quot;03&quot;, &quot;02&quot;, NA, NA, &quot;280&quot;,…</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="co">#&gt; $ Data3     &lt;chr&gt; &quot;5&quot;, NA, &quot;126&quot;, &quot;230&quot;, NA, NA, &quot;230&quot;, &quot;03&quot;, NA, NA, &quot;001&quot;, &quot;…</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co">#&gt; $ Data4     &lt;chr&gt; &quot;Y&quot;, NA, NA, NA, NA, &quot;250&quot;, NA, &quot;257&quot;, &quot;257&quot;, NA, NA, NA, NA…</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="co">#&gt; $ Data5     &lt;chr&gt; NA, NA, NA, &quot;10.0&quot;, NA, &quot;6.0&quot;, &quot;10.0&quot;, &quot;6.0&quot;, &quot;6.0&quot;, NA, NA,…</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="co">#&gt; $ Data6     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;2.8…</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="co">#&gt; $ Data7     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;1.0…</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="co">#&gt; $ Data8     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;013…</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="co">#&gt; $ Data9     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="co">#&gt; $ Data10    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="co">#&gt; $ Data11    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="co">#&gt; $ Data12    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="co">#&gt; $ EventNum  &lt;chr&gt; &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;11&quot;, &quot;12…</span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="co">#&gt; $ file_das  &lt;chr&gt; &quot;das_sample.das&quot;, &quot;das_sample.das&quot;, &quot;das_sample.das&quot;, &quot;das_s…</span></span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a><span class="co">#&gt; $ line_num  &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 1…</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="co"># Process</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>y.proc <span class="ot">&lt;-</span> <span class="fu">das_process</span>(y)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="fu">glimpse</span>(y.proc)</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="co">#&gt; Rows: 256</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co">#&gt; Columns: 40</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="co">#&gt; $ Event     &lt;chr&gt; &quot;B&quot;, &quot;R&quot;, &quot;P&quot;, &quot;V&quot;, &quot;N&quot;, &quot;W&quot;, &quot;V&quot;, &quot;W&quot;, &quot;W&quot;, &quot;*&quot;, &quot;P&quot;, &quot;V&quot;, …</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="co">#&gt; $ DateTime  &lt;dttm&gt; 2013-01-13 06:27:39, 2013-01-13 06:27:39, 2013-01-13 06:27:…</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co">#&gt; $ Lat       &lt;dbl&gt; 39.32033, 39.32033, 39.32033, 39.32033, 39.32033, 39.32033, …</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="co">#&gt; $ Lon       &lt;dbl&gt; -137.6043, -137.6043, -137.6043, -137.6043, -137.6043, -137.…</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="co">#&gt; $ OnEffort  &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, …</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="co">#&gt; $ Cruise    &lt;dbl&gt; 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, …</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="co">#&gt; $ Mode      &lt;chr&gt; &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, …</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="co">#&gt; $ OffsetGMT &lt;int&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, …</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="co">#&gt; $ EffType   &lt;chr&gt; NA, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;…</span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a><span class="co">#&gt; $ ESWsides  &lt;dbl&gt; NA, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,…</span></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a><span class="co">#&gt; $ Course    &lt;dbl&gt; NA, NA, NA, NA, 23, 23, 23, 23, 23, 23, 23, 23, 25, 25, 25, …</span></span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a><span class="co">#&gt; $ SpdKt     &lt;dbl&gt; NA, NA, NA, NA, 9.8, 9.8, 9.8, 9.8, 9.8, 9.8, 9.8, 9.8, 10.2…</span></span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a><span class="co">#&gt; $ Bft       &lt;dbl&gt; NA, NA, NA, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, …</span></span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a><span class="co">#&gt; $ SwellHght &lt;dbl&gt; NA, NA, NA, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, …</span></span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a><span class="co">#&gt; $ WindSpdKt &lt;dbl&gt; NA, NA, NA, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, …</span></span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a><span class="co">#&gt; $ RainFog   &lt;dbl&gt; NA, NA, NA, NA, NA, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span></span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a><span class="co">#&gt; $ HorizSun  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a><span class="co">#&gt; $ VertSun   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 3, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a><span class="co">#&gt; $ Glare     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, FALSE, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a><span class="co">#&gt; $ Vis       &lt;dbl&gt; NA, NA, NA, NA, NA, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6…</span></span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a><span class="co">#&gt; $ ObsL      &lt;chr&gt; NA, NA, &quot;280&quot;, &quot;280&quot;, &quot;280&quot;, &quot;280&quot;, &quot;280&quot;, &quot;280&quot;, &quot;280&quot;, &quot;28…</span></span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a><span class="co">#&gt; $ Rec       &lt;chr&gt; NA, NA, &quot;001&quot;, &quot;001&quot;, &quot;001&quot;, &quot;001&quot;, &quot;001&quot;, &quot;001&quot;, &quot;001&quot;, &quot;00…</span></span>
<span id="cb5-29"><a href="#cb5-29" tabindex="-1"></a><span class="co">#&gt; $ ObsR      &lt;chr&gt; NA, NA, &quot;126&quot;, &quot;126&quot;, &quot;126&quot;, &quot;126&quot;, &quot;126&quot;, &quot;126&quot;, &quot;126&quot;, &quot;12…</span></span>
<span id="cb5-30"><a href="#cb5-30" tabindex="-1"></a><span class="co">#&gt; $ ObsInd    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb5-31"><a href="#cb5-31" tabindex="-1"></a><span class="co">#&gt; $ Data1     &lt;chr&gt; &quot;1000&quot;, &quot;S&quot;, &quot;280&quot;, &quot;3&quot;, &quot;023&quot;, &quot;1&quot;, &quot;3&quot;, &quot;1&quot;, &quot;1&quot;, NA, &quot;208…</span></span>
<span id="cb5-32"><a href="#cb5-32" tabindex="-1"></a><span class="co">#&gt; $ Data2     &lt;chr&gt; &quot;c&quot;, NA, &quot;001&quot;, &quot;03&quot;, &quot;09.8&quot;, NA, &quot;03&quot;, &quot;02&quot;, NA, NA, &quot;280&quot;,…</span></span>
<span id="cb5-33"><a href="#cb5-33" tabindex="-1"></a><span class="co">#&gt; $ Data3     &lt;chr&gt; &quot;5&quot;, NA, &quot;126&quot;, &quot;230&quot;, NA, NA, &quot;230&quot;, &quot;03&quot;, NA, NA, &quot;001&quot;, &quot;…</span></span>
<span id="cb5-34"><a href="#cb5-34" tabindex="-1"></a><span class="co">#&gt; $ Data4     &lt;chr&gt; &quot;Y&quot;, NA, NA, NA, NA, &quot;250&quot;, NA, &quot;257&quot;, &quot;257&quot;, NA, NA, NA, NA…</span></span>
<span id="cb5-35"><a href="#cb5-35" tabindex="-1"></a><span class="co">#&gt; $ Data5     &lt;chr&gt; NA, NA, NA, &quot;10.0&quot;, NA, &quot;6.0&quot;, &quot;10.0&quot;, &quot;6.0&quot;, &quot;6.0&quot;, NA, NA,…</span></span>
<span id="cb5-36"><a href="#cb5-36" tabindex="-1"></a><span class="co">#&gt; $ Data6     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;2.8…</span></span>
<span id="cb5-37"><a href="#cb5-37" tabindex="-1"></a><span class="co">#&gt; $ Data7     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;1.0…</span></span>
<span id="cb5-38"><a href="#cb5-38" tabindex="-1"></a><span class="co">#&gt; $ Data8     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;013…</span></span>
<span id="cb5-39"><a href="#cb5-39" tabindex="-1"></a><span class="co">#&gt; $ Data9     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb5-40"><a href="#cb5-40" tabindex="-1"></a><span class="co">#&gt; $ Data10    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb5-41"><a href="#cb5-41" tabindex="-1"></a><span class="co">#&gt; $ Data11    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb5-42"><a href="#cb5-42" tabindex="-1"></a><span class="co">#&gt; $ Data12    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb5-43"><a href="#cb5-43" tabindex="-1"></a><span class="co">#&gt; $ EffortDot &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, …</span></span>
<span id="cb5-44"><a href="#cb5-44" tabindex="-1"></a><span class="co">#&gt; $ EventNum  &lt;chr&gt; &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;11&quot;, &quot;12…</span></span>
<span id="cb5-45"><a href="#cb5-45" tabindex="-1"></a><span class="co">#&gt; $ file_das  &lt;chr&gt; &quot;das_sample.das&quot;, &quot;das_sample.das&quot;, &quot;das_sample.das&quot;, &quot;das_s…</span></span>
<span id="cb5-46"><a href="#cb5-46" tabindex="-1"></a><span class="co">#&gt; $ line_num  &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 1…</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="co"># Note that das_read can read multiple files at once</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>y2.read <span class="ot">&lt;-</span> <span class="fu">das_read</span>(<span class="fu">c</span>(y, y))</span></code></pre></div>
<p>Once you have processed the DAS data, you can easily access a variety
of information. For instance, you can look at the different events or
Beaufort values that occurred in the data, or filter for specific events
to get the beginning and ending points of each effort section.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># The number of each event</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="fu">table</span>(y.proc<span class="sc">$</span>Event)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co">#&gt;  *  1  2  3  4  ?  A  B  C  E  F  N  P  R  S  V  W  s  t </span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">#&gt; 90  8  7  6  2  1  8  2  5 10  1 19 18 10  8 22 26  7  6</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="co"># The number of events per Beaufort value</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="fu">table</span>(y.proc<span class="sc">$</span>Bft)</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="co">#&gt;   2   3 </span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="co">#&gt;  94 120</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="co"># Filter for R and E events to extract lat/lon points</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>y.proc <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  <span class="fu">filter</span>(Event <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;R&quot;</span>, <span class="st">&quot;E&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  <span class="fu">select</span>(Event, Lat, Lon, Cruise, Mode, EffType) <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>  <span class="fu">head</span>()</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a><span class="co">#&gt;   Event      Lat       Lon Cruise Mode EffType</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="co">#&gt; 1     R 39.32033 -137.6043   1000    C       S</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="co">#&gt; 2     E 39.36717 -137.5817   1000    C       S</span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="co">#&gt; 3     R 39.37617 -137.5978   1000    C       S</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a><span class="co">#&gt; 4     E 39.51933 -137.5277   1000    C       S</span></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="co">#&gt; 5     R 39.56800 -137.4530   1000    C       S</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a><span class="co">#&gt; 6     E 39.75433 -137.4107   1000    C       S</span></span></code></pre></div>
</div>
<div id="sightings" class="section level2">
<h2>Sightings</h2>
<p>The <code>swfscDAS</code> package does contain specific functions for
extracting and/or summarizing particular information from the processed
data. First is <code>das_sight</code>, a function that returns a data
frame with pertinent sighting data pulled out to their own columns. Due
to the different data collected for each type of sighting and the
different needs of end-users, this function offers several different
return formats. For the “default” format there is one row for each
species of each sighting, for the “wide” format, there is one row for
each sighting event, and for the “complete” format there is one row for
every group size estimate for each sighting. See <code>?das_sight</code>
for more details. The “complete” format is intended for users looking to
do observer corrections, or to combine estimates using a different
method than the arithmetic mean (e.g. the geometric mean)</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>y.sight <span class="ot">&lt;-</span> <span class="fu">das_sight</span>(y.proc, <span class="at">return.format =</span> <span class="st">&quot;default&quot;</span>)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>y.sight <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>  <span class="fu">select</span>(Event, SightNo<span class="sc">:</span>PerpDistKm) <span class="sc">%&gt;%</span> </span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="co">#&gt; Rows: 25</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="co">#&gt; Columns: 32</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="co">#&gt; $ Event        &lt;chr&gt; &quot;S&quot;, &quot;S&quot;, &quot;s&quot;, &quot;s&quot;, &quot;s&quot;, &quot;s&quot;, &quot;s&quot;, &quot;s&quot;, &quot;t&quot;, &quot;t&quot;, &quot;t&quot;, &quot;S…</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="co">#&gt; $ SightNo      &lt;chr&gt; &quot;1406&quot;, &quot;1407&quot;, &quot;1407&quot;, &quot;1407&quot;, &quot;1407&quot;, &quot;1407&quot;, &quot;1407&quot;, &quot;…</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="co">#&gt; $ Subgroup     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="co">#&gt; $ SightNoDaily &lt;chr&gt; &quot;20130113_1&quot;, &quot;20130113_2&quot;, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a><span class="co">#&gt; $ Obs          &lt;chr&gt; &quot;208&quot;, &quot;125&quot;, NA, NA, NA, NA, NA, NA, &quot;280&quot;, &quot;149&quot;, &quot;228&quot;…</span></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a><span class="co">#&gt; $ ObsStd       &lt;lgl&gt; TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FAL…</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a><span class="co">#&gt; $ Bearing      &lt;dbl&gt; 309, 326, 11, 5, 50, 71, 104, 2, 120, 270, 300, 270, 45, …</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a><span class="co">#&gt; $ Reticle      &lt;dbl&gt; 2.8, 0.4, 2.0, 3.5, NA, 4.5, 4.5, 2.2, NA, NA, NA, 14.0, …</span></span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a><span class="co">#&gt; $ DistNm       &lt;dbl&gt; 1.06, 2.97, 1.30, 0.90, 0.50, 0.70, 0.70, 1.30, 0.03, 0.0…</span></span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a><span class="co">#&gt; $ Cue          &lt;dbl&gt; 3, 3, NA, NA, NA, NA, NA, NA, NA, NA, NA, 3, NA, 3, NA, 3…</span></span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a><span class="co">#&gt; $ Method       &lt;dbl&gt; 4, 4, NA, NA, NA, NA, NA, NA, NA, NA, NA, 4, NA, 4, NA, 4…</span></span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a><span class="co">#&gt; $ Photos       &lt;chr&gt; &quot;N&quot;, &quot;Y&quot;, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;N&quot;, NA, &quot;Y…</span></span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a><span class="co">#&gt; $ Birds        &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;N&quot;, NA, &quot;Y…</span></span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a><span class="co">#&gt; $ CalibSchool  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a><span class="co">#&gt; $ PhotosAerial &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb10-22"><a href="#cb10-22" tabindex="-1"></a><span class="co">#&gt; $ Biopsy       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb10-23"><a href="#cb10-23" tabindex="-1"></a><span class="co">#&gt; $ Prob         &lt;lgl&gt; FALSE, FALSE, NA, NA, NA, NA, NA, NA, NA, NA, NA, FALSE, …</span></span>
<span id="cb10-24"><a href="#cb10-24" tabindex="-1"></a><span class="co">#&gt; $ nSp          &lt;int&gt; 1, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, 1, NA, 2…</span></span>
<span id="cb10-25"><a href="#cb10-25" tabindex="-1"></a><span class="co">#&gt; $ Mixed        &lt;lgl&gt; FALSE, FALSE, NA, NA, NA, NA, NA, NA, NA, NA, NA, FALSE, …</span></span>
<span id="cb10-26"><a href="#cb10-26" tabindex="-1"></a><span class="co">#&gt; $ SpCode       &lt;chr&gt; &quot;018&quot;, &quot;076&quot;, NA, NA, NA, NA, NA, NA, &quot;LV&quot;, &quot;DC&quot;, &quot;DC&quot;, &quot;…</span></span>
<span id="cb10-27"><a href="#cb10-27" tabindex="-1"></a><span class="co">#&gt; $ SpCodeProb   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb10-28"><a href="#cb10-28" tabindex="-1"></a><span class="co">#&gt; $ GsSchoolBest &lt;dbl&gt; NA, 8.00000, NA, NA, NA, NA, NA, NA, 1.00000, 2.00000, 1.…</span></span>
<span id="cb10-29"><a href="#cb10-29" tabindex="-1"></a><span class="co">#&gt; $ GsSchoolHigh &lt;dbl&gt; NA, 14.00, NA, NA, NA, NA, NA, NA, NA, NA, NA, 20.00, NA,…</span></span>
<span id="cb10-30"><a href="#cb10-30" tabindex="-1"></a><span class="co">#&gt; $ GsSchoolLow  &lt;dbl&gt; 42.333333, 5.666667, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb10-31"><a href="#cb10-31" tabindex="-1"></a><span class="co">#&gt; $ GsSpBest     &lt;dbl&gt; NA, 8.00000, NA, NA, NA, NA, NA, NA, 1.00000, 2.00000, 1.…</span></span>
<span id="cb10-32"><a href="#cb10-32" tabindex="-1"></a><span class="co">#&gt; $ GsSpHigh     &lt;dbl&gt; NA, 14.0000, NA, NA, NA, NA, NA, NA, NA, NA, NA, 20.0000,…</span></span>
<span id="cb10-33"><a href="#cb10-33" tabindex="-1"></a><span class="co">#&gt; $ GsSpLow      &lt;dbl&gt; 42.333333, 5.666667, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb10-34"><a href="#cb10-34" tabindex="-1"></a><span class="co">#&gt; $ CourseSchool &lt;dbl&gt; NA, NA, NA, NA, NA, 100, 100, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span id="cb10-35"><a href="#cb10-35" tabindex="-1"></a><span class="co">#&gt; $ TurtleJFR    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb10-36"><a href="#cb10-36" tabindex="-1"></a><span class="co">#&gt; $ TurtleAge    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, &quot;A&quot;, &quot;A&quot;, &quot;J&quot;, NA, &quot;A&quot;, N…</span></span>
<span id="cb10-37"><a href="#cb10-37" tabindex="-1"></a><span class="co">#&gt; $ TurtleCapt   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, NA, NA, NA…</span></span>
<span id="cb10-38"><a href="#cb10-38" tabindex="-1"></a><span class="co">#&gt; $ PerpDistKm   &lt;dbl&gt; 1.525631e+00, 3.075807e+00, 4.593917e-01, 1.452712e-01, 7…</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>y.sight.wide <span class="ot">&lt;-</span> <span class="fu">das_sight</span>(y.proc, <span class="at">return.format =</span> <span class="st">&quot;wide&quot;</span>)</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>y.sight.wide <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="fu">select</span>(Event, SightNo<span class="sc">:</span>PerpDistKm) <span class="sc">%&gt;%</span> </span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="co">#&gt; Rows: 22</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="co">#&gt; Columns: 58</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a><span class="co">#&gt; $ Event        &lt;chr&gt; &quot;S&quot;, &quot;S&quot;, &quot;s&quot;, &quot;s&quot;, &quot;s&quot;, &quot;s&quot;, &quot;s&quot;, &quot;s&quot;, &quot;t&quot;, &quot;t&quot;, &quot;t&quot;, &quot;S…</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="co">#&gt; $ SightNo      &lt;chr&gt; &quot;1406&quot;, &quot;1407&quot;, &quot;1407&quot;, &quot;1407&quot;, &quot;1407&quot;, &quot;1407&quot;, &quot;1407&quot;, &quot;…</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a><span class="co">#&gt; $ Subgroup     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="co">#&gt; $ SightNoDaily &lt;chr&gt; &quot;20130113_1&quot;, &quot;20130113_2&quot;, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a><span class="co">#&gt; $ Obs          &lt;chr&gt; &quot;208&quot;, &quot;125&quot;, NA, NA, NA, NA, NA, NA, &quot;280&quot;, &quot;149&quot;, &quot;228&quot;…</span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a><span class="co">#&gt; $ ObsStd       &lt;lgl&gt; TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FAL…</span></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a><span class="co">#&gt; $ Bearing      &lt;dbl&gt; 309, 326, 11, 5, 50, 71, 104, 2, 120, 270, 300, 270, 45, …</span></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a><span class="co">#&gt; $ Reticle      &lt;dbl&gt; 2.8, 0.4, 2.0, 3.5, NA, 4.5, 4.5, 2.2, NA, NA, NA, 14.0, …</span></span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a><span class="co">#&gt; $ DistNm       &lt;dbl&gt; 1.06, 2.97, 1.30, 0.90, 0.50, 0.70, 0.70, 1.30, 0.03, 0.0…</span></span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a><span class="co">#&gt; $ Cue          &lt;dbl&gt; 3, 3, NA, NA, NA, NA, NA, NA, NA, NA, NA, 3, NA, 3, NA, 3…</span></span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a><span class="co">#&gt; $ Method       &lt;dbl&gt; 4, 4, NA, NA, NA, NA, NA, NA, NA, NA, NA, 4, NA, 4, NA, 4…</span></span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a><span class="co">#&gt; $ Photos       &lt;chr&gt; &quot;N&quot;, &quot;Y&quot;, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;N&quot;, NA, &quot;Y…</span></span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a><span class="co">#&gt; $ Birds        &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;N&quot;, NA, &quot;Y…</span></span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a><span class="co">#&gt; $ CalibSchool  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a><span class="co">#&gt; $ PhotosAerial &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a><span class="co">#&gt; $ Biopsy       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a><span class="co">#&gt; $ Prob         &lt;lgl&gt; FALSE, FALSE, NA, NA, NA, NA, NA, NA, NA, NA, NA, FALSE, …</span></span>
<span id="cb11-25"><a href="#cb11-25" tabindex="-1"></a><span class="co">#&gt; $ nSp          &lt;int&gt; 1, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, 1, NA, 2…</span></span>
<span id="cb11-26"><a href="#cb11-26" tabindex="-1"></a><span class="co">#&gt; $ Mixed        &lt;lgl&gt; FALSE, FALSE, NA, NA, NA, NA, NA, NA, NA, NA, NA, FALSE, …</span></span>
<span id="cb11-27"><a href="#cb11-27" tabindex="-1"></a><span class="co">#&gt; $ ObsEstimate  &lt;list&gt; &lt;&quot;280&quot;, &quot;001&quot;, &quot;208&quot;&gt;, &lt;&quot;280&quot;, &quot;001&quot;, &quot;125&quot;&gt;, &lt;NULL&gt;, &lt;N…</span></span>
<span id="cb11-28"><a href="#cb11-28" tabindex="-1"></a><span class="co">#&gt; $ SpCode1      &lt;chr&gt; &quot;018&quot;, &quot;076&quot;, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;037&quot;, …</span></span>
<span id="cb11-29"><a href="#cb11-29" tabindex="-1"></a><span class="co">#&gt; $ SpCode2      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-30"><a href="#cb11-30" tabindex="-1"></a><span class="co">#&gt; $ SpCode3      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-31"><a href="#cb11-31" tabindex="-1"></a><span class="co">#&gt; $ SpCode4      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-32"><a href="#cb11-32" tabindex="-1"></a><span class="co">#&gt; $ SpCodeProb1  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-33"><a href="#cb11-33" tabindex="-1"></a><span class="co">#&gt; $ SpCodeProb2  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-34"><a href="#cb11-34" tabindex="-1"></a><span class="co">#&gt; $ SpCodeProb3  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-35"><a href="#cb11-35" tabindex="-1"></a><span class="co">#&gt; $ SpCodeProb4  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-36"><a href="#cb11-36" tabindex="-1"></a><span class="co">#&gt; $ SpPerc1      &lt;dbl&gt; 100, 100, NA, NA, NA, NA, NA, NA, NA, NA, NA, 100, NA, 10…</span></span>
<span id="cb11-37"><a href="#cb11-37" tabindex="-1"></a><span class="co">#&gt; $ SpPerc2      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-38"><a href="#cb11-38" tabindex="-1"></a><span class="co">#&gt; $ SpPerc3      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-39"><a href="#cb11-39" tabindex="-1"></a><span class="co">#&gt; $ SpPerc4      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-40"><a href="#cb11-40" tabindex="-1"></a><span class="co">#&gt; $ GsSchoolBest &lt;dbl&gt; NA, 8.00000, NA, NA, NA, NA, NA, NA, NA, NA, NA, 10.66667…</span></span>
<span id="cb11-41"><a href="#cb11-41" tabindex="-1"></a><span class="co">#&gt; $ GsSchoolHigh &lt;dbl&gt; NA, 14.00, NA, NA, NA, NA, NA, NA, NA, NA, NA, 20.00, NA,…</span></span>
<span id="cb11-42"><a href="#cb11-42" tabindex="-1"></a><span class="co">#&gt; $ GsSchoolLow  &lt;dbl&gt; 42.333333, 5.666667, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb11-43"><a href="#cb11-43" tabindex="-1"></a><span class="co">#&gt; $ GsSpBest1    &lt;dbl&gt; NA, 8.00000, NA, NA, NA, NA, NA, NA, NA, NA, NA, 10.66667…</span></span>
<span id="cb11-44"><a href="#cb11-44" tabindex="-1"></a><span class="co">#&gt; $ GsSpBest2    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-45"><a href="#cb11-45" tabindex="-1"></a><span class="co">#&gt; $ GsSpBest3    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-46"><a href="#cb11-46" tabindex="-1"></a><span class="co">#&gt; $ GsSpBest4    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-47"><a href="#cb11-47" tabindex="-1"></a><span class="co">#&gt; $ GsSpHigh1    &lt;dbl&gt; NA, 14.0000, NA, NA, NA, NA, NA, NA, NA, NA, NA, 20.0000,…</span></span>
<span id="cb11-48"><a href="#cb11-48" tabindex="-1"></a><span class="co">#&gt; $ GsSpHigh2    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-49"><a href="#cb11-49" tabindex="-1"></a><span class="co">#&gt; $ GsSpHigh3    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-50"><a href="#cb11-50" tabindex="-1"></a><span class="co">#&gt; $ GsSpHigh4    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-51"><a href="#cb11-51" tabindex="-1"></a><span class="co">#&gt; $ GsSpLow1     &lt;dbl&gt; 42.333333, 5.666667, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb11-52"><a href="#cb11-52" tabindex="-1"></a><span class="co">#&gt; $ GsSpLow2     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-53"><a href="#cb11-53" tabindex="-1"></a><span class="co">#&gt; $ GsSpLow3     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-54"><a href="#cb11-54" tabindex="-1"></a><span class="co">#&gt; $ GsSpLow4     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-55"><a href="#cb11-55" tabindex="-1"></a><span class="co">#&gt; $ CourseSchool &lt;dbl&gt; NA, NA, NA, NA, NA, 100, 100, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span id="cb11-56"><a href="#cb11-56" tabindex="-1"></a><span class="co">#&gt; $ TurtleSp     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, &quot;LV&quot;, &quot;DC&quot;, &quot;DC&quot;, NA, &quot;DC…</span></span>
<span id="cb11-57"><a href="#cb11-57" tabindex="-1"></a><span class="co">#&gt; $ TurtleGs     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 1, 2, 1, NA, 1, NA, NA, N…</span></span>
<span id="cb11-58"><a href="#cb11-58" tabindex="-1"></a><span class="co">#&gt; $ TurtleJFR    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-59"><a href="#cb11-59" tabindex="-1"></a><span class="co">#&gt; $ TurtleAge    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, &quot;A&quot;, &quot;A&quot;, &quot;J&quot;, NA, &quot;A&quot;, N…</span></span>
<span id="cb11-60"><a href="#cb11-60" tabindex="-1"></a><span class="co">#&gt; $ TurtleCapt   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, NA, NA, NA…</span></span>
<span id="cb11-61"><a href="#cb11-61" tabindex="-1"></a><span class="co">#&gt; $ PinnipedSp   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-62"><a href="#cb11-62" tabindex="-1"></a><span class="co">#&gt; $ PinnipedGs   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-63"><a href="#cb11-63" tabindex="-1"></a><span class="co">#&gt; $ BoatType     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-64"><a href="#cb11-64" tabindex="-1"></a><span class="co">#&gt; $ BoatGs       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb11-65"><a href="#cb11-65" tabindex="-1"></a><span class="co">#&gt; $ PerpDistKm   &lt;dbl&gt; 1.525631e+00, 3.075807e+00, 4.593917e-01, 1.452712e-01, 7…</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>y.sight.complete <span class="ot">&lt;-</span> <span class="fu">das_sight</span>(y.proc, <span class="at">return.format =</span> <span class="st">&quot;complete&quot;</span>)</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>y.sight.complete <span class="sc">%&gt;%</span> </span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>  <span class="fu">select</span>(Event, SightNo<span class="sc">:</span>PerpDistKm) <span class="sc">%&gt;%</span> </span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a><span class="co">#&gt; Rows: 37</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a><span class="co">#&gt; Columns: 46</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="co">#&gt; $ Event        &lt;chr&gt; &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;s&quot;, &quot;s&quot;, &quot;s&quot;, &quot;s&quot;, &quot;s&quot;, &quot;s…</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a><span class="co">#&gt; $ SightNo      &lt;chr&gt; &quot;1406&quot;, &quot;1406&quot;, &quot;1406&quot;, &quot;1407&quot;, &quot;1407&quot;, &quot;1407&quot;, &quot;1407&quot;, &quot;…</span></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="co">#&gt; $ Subgroup     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a><span class="co">#&gt; $ SightNoDaily &lt;chr&gt; &quot;20130113_1&quot;, &quot;20130113_1&quot;, &quot;20130113_1&quot;, &quot;20130113_2&quot;, &quot;…</span></span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a><span class="co">#&gt; $ Obs          &lt;chr&gt; &quot;208&quot;, &quot;208&quot;, &quot;208&quot;, &quot;125&quot;, &quot;125&quot;, &quot;125&quot;, NA, NA, NA, NA,…</span></span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a><span class="co">#&gt; $ ObsStd       &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, …</span></span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a><span class="co">#&gt; $ Bearing      &lt;dbl&gt; 309, 309, 309, 326, 326, 326, 11, 5, 50, 71, 104, 2, 120,…</span></span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a><span class="co">#&gt; $ Reticle      &lt;dbl&gt; 2.8, 2.8, 2.8, 0.4, 0.4, 0.4, 2.0, 3.5, NA, 4.5, 4.5, 2.2…</span></span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a><span class="co">#&gt; $ DistNm       &lt;dbl&gt; 1.06, 1.06, 1.06, 2.97, 2.97, 2.97, 1.30, 0.90, 0.50, 0.7…</span></span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a><span class="co">#&gt; $ Cue          &lt;dbl&gt; 3, 3, 3, 3, 3, 3, NA, NA, NA, NA, NA, NA, NA, NA, NA, 3, …</span></span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a><span class="co">#&gt; $ Method       &lt;dbl&gt; 4, 4, 4, 4, 4, 4, NA, NA, NA, NA, NA, NA, NA, NA, NA, 4, …</span></span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a><span class="co">#&gt; $ Photos       &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;Y&quot;, &quot;Y&quot;, &quot;Y&quot;, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a><span class="co">#&gt; $ Birds        &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a><span class="co">#&gt; $ CalibSchool  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a><span class="co">#&gt; $ PhotosAerial &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a><span class="co">#&gt; $ Biopsy       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a><span class="co">#&gt; $ Prob         &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, NA, NA, NA, NA,…</span></span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a><span class="co">#&gt; $ nSp          &lt;int&gt; 1, 1, 1, 1, 1, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, …</span></span>
<span id="cb12-26"><a href="#cb12-26" tabindex="-1"></a><span class="co">#&gt; $ Mixed        &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, NA, NA, NA, NA,…</span></span>
<span id="cb12-27"><a href="#cb12-27" tabindex="-1"></a><span class="co">#&gt; $ ObsEstimate  &lt;chr&gt; &quot;280&quot;, &quot;001&quot;, &quot;208&quot;, &quot;280&quot;, &quot;001&quot;, &quot;125&quot;, NA, NA, NA, NA,…</span></span>
<span id="cb12-28"><a href="#cb12-28" tabindex="-1"></a><span class="co">#&gt; $ SpCode1      &lt;chr&gt; &quot;018&quot;, &quot;018&quot;, &quot;018&quot;, &quot;076&quot;, &quot;076&quot;, &quot;076&quot;, NA, NA, NA, NA,…</span></span>
<span id="cb12-29"><a href="#cb12-29" tabindex="-1"></a><span class="co">#&gt; $ SpCode2      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-30"><a href="#cb12-30" tabindex="-1"></a><span class="co">#&gt; $ SpCode3      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-31"><a href="#cb12-31" tabindex="-1"></a><span class="co">#&gt; $ SpCode4      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-32"><a href="#cb12-32" tabindex="-1"></a><span class="co">#&gt; $ SpCodeProb1  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-33"><a href="#cb12-33" tabindex="-1"></a><span class="co">#&gt; $ SpCodeProb2  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-34"><a href="#cb12-34" tabindex="-1"></a><span class="co">#&gt; $ SpCodeProb3  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-35"><a href="#cb12-35" tabindex="-1"></a><span class="co">#&gt; $ SpCodeProb4  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-36"><a href="#cb12-36" tabindex="-1"></a><span class="co">#&gt; $ SpPerc1      &lt;dbl&gt; 100, 100, 100, 100, 100, 100, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span id="cb12-37"><a href="#cb12-37" tabindex="-1"></a><span class="co">#&gt; $ SpPerc2      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-38"><a href="#cb12-38" tabindex="-1"></a><span class="co">#&gt; $ SpPerc3      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-39"><a href="#cb12-39" tabindex="-1"></a><span class="co">#&gt; $ SpPerc4      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-40"><a href="#cb12-40" tabindex="-1"></a><span class="co">#&gt; $ GsSchoolBest &lt;dbl&gt; NA, NA, NA, 6, 9, 9, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb12-41"><a href="#cb12-41" tabindex="-1"></a><span class="co">#&gt; $ GsSchoolHigh &lt;dbl&gt; NA, NA, NA, 10, 10, 22, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-42"><a href="#cb12-42" tabindex="-1"></a><span class="co">#&gt; $ GsSchoolLow  &lt;dbl&gt; 43, 36, 48, 6, 2, 9, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span id="cb12-43"><a href="#cb12-43" tabindex="-1"></a><span class="co">#&gt; $ CourseSchool &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, 100, 100, NA, NA, NA,…</span></span>
<span id="cb12-44"><a href="#cb12-44" tabindex="-1"></a><span class="co">#&gt; $ TurtleSp     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;LV&quot;, &quot;DC…</span></span>
<span id="cb12-45"><a href="#cb12-45" tabindex="-1"></a><span class="co">#&gt; $ TurtleGs     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, 2, 1, …</span></span>
<span id="cb12-46"><a href="#cb12-46" tabindex="-1"></a><span class="co">#&gt; $ TurtleJFR    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-47"><a href="#cb12-47" tabindex="-1"></a><span class="co">#&gt; $ TurtleAge    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;A&quot;, &quot;A&quot;,…</span></span>
<span id="cb12-48"><a href="#cb12-48" tabindex="-1"></a><span class="co">#&gt; $ TurtleCapt   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;N&quot;, &quot;N&quot;,…</span></span>
<span id="cb12-49"><a href="#cb12-49" tabindex="-1"></a><span class="co">#&gt; $ PinnipedSp   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-50"><a href="#cb12-50" tabindex="-1"></a><span class="co">#&gt; $ PinnipedGs   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-51"><a href="#cb12-51" tabindex="-1"></a><span class="co">#&gt; $ BoatType     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-52"><a href="#cb12-52" tabindex="-1"></a><span class="co">#&gt; $ BoatGs       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span id="cb12-53"><a href="#cb12-53" tabindex="-1"></a><span class="co">#&gt; $ PerpDistKm   &lt;dbl&gt; 1.52563078, 1.52563078, 1.52563078, 3.07580701, 3.0758070…</span></span></code></pre></div>
<p>You can also easily filter or subset the sighting data for the
desired event code(s)</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>y.sight.sg <span class="ot">&lt;-</span> <span class="fu">das_sight</span>(y.proc, <span class="at">return.events =</span> <span class="fu">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;G&quot;</span>))</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="co"># Note that this is equivalent to:</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>y.sight.sg2 <span class="ot">&lt;-</span> <span class="fu">das_sight</span>(y.proc) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Event <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;G&quot;</span>))</span></code></pre></div>
</div>
<div id="effort" class="section level2">
<h2>Effort</h2>
<p>In addition, you can chop the effort data into segments, and
summarize the conditions and sightings on those segments using
<code>das_effort</code> and <code>das_effort_sight</code>. These effort
segments can be used for line transect estimates using the Distance
software, species distribution modeling, or summarizing the number of
sightings of certain species on each segment, among other uses.
<code>das_effort</code> chops continuous effort sections (the event
sequence from R to E events) into effort segments using one of several
different chopping methods: condition (a new effort segment every time a
condition changes), equal length (effort segments of equal length), or
section (each segment is a full continuous effort section, i.e. it runs
from an R event to an E event). <code>das_effort_sight</code> takes the
output of <code>das_effort</code> and returns the number of included
sightings and animals per segment for specified species codes.</p>
<p>Both functions return a list of three data frames: segdata,
sightinfo, and randpicks. These data frames and the different chopping
methodologies are described in depth in the function documentation
(<code>?das_effort</code> and <code>?das_effort_sight</code>), but
briefly segdata contains information about each effort segment,
sightinfo contains information about the sightings such as their
corresponding segment, and randpicks contains information specific to
the ‘equal length’ chopping method. <code>das_effort</code> and
<code>das_effort_sight</code> are separate functions to allow the user
more control over which sightings should be included in the effort
segment summaries (see <code>?das_effort</code>). See below for how to
chop/split effort lines by strata.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># Chop the effort into 10km segments</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>y.eff.eq <span class="ot">&lt;-</span> <span class="fu">das_effort</span>(</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>  y.proc, <span class="at">method =</span> <span class="st">&quot;equallength&quot;</span>, <span class="at">seg.km =</span> <span class="dv">10</span>, <span class="at">dist.method =</span> <span class="st">&quot;greatcircle&quot;</span>, </span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>  <span class="at">num.cores =</span> <span class="dv">1</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>)</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="co">#&gt; No argument was passed via randpicks.load, and thus new randpicks values will be generated</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="co"># Chop the effort every time a condition changes</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>y.eff <span class="ot">&lt;-</span> <span class="fu">das_effort</span>(</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>  y.proc, <span class="at">method =</span> <span class="st">&quot;condition&quot;</span>, <span class="at">seg.min.km =</span> <span class="dv">0</span>, </span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>  <span class="at">dist.method =</span> <span class="st">&quot;greatcircle&quot;</span>, <span class="at">conditions =</span> <span class="fu">c</span>(<span class="st">&quot;Bft&quot;</span>, <span class="st">&quot;SwellHght&quot;</span>, <span class="st">&quot;Vis&quot;</span>), </span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>  <span class="at">num.cores =</span> <span class="dv">1</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>)</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a>y.eff.sight <span class="ot">&lt;-</span> <span class="fu">das_effort_sight</span>(y.eff, <span class="at">sp.codes =</span> <span class="fu">c</span>(<span class="st">&quot;018&quot;</span>, <span class="st">&quot;076&quot;</span>))</span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a><span class="fu">glimpse</span>(y.eff.sight<span class="sc">$</span>segdata)</span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a><span class="co">#&gt; Rows: 20</span></span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a><span class="co">#&gt; Columns: 31</span></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="co">#&gt; $ segnum           &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16…</span></span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a><span class="co">#&gt; $ section_id       &lt;int&gt; 1, 2, 2, 3, 3, 3, 3, 3, 3, 3, 4, 4, 5, 6, 6, 7, 7, 8,…</span></span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a><span class="co">#&gt; $ section_sub_id   &lt;dbl&gt; 1, 1, 2, 1, 2, 3, 4, 5, 6, 7, 1, 2, 1, 1, 2, 1, 2, 1,…</span></span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a><span class="co">#&gt; $ file             &lt;chr&gt; &quot;das_sample.das&quot;, &quot;das_sample.das&quot;, &quot;das_sample.das&quot;,…</span></span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a><span class="co">#&gt; $ stlin            &lt;int&gt; 2, 23, 33, 59, 69, 70, 75, 78, 84, 85, 99, 108, 127, …</span></span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a><span class="co">#&gt; $ endlin           &lt;int&gt; 20, 33, 43, 69, 70, 75, 78, 84, 85, 90, 108, 121, 147…</span></span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a><span class="co">#&gt; $ lat1             &lt;dbl&gt; 39.32033, 39.37617, 39.42950, 39.56800, 39.66082, 39.…</span></span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a><span class="co">#&gt; $ lon1             &lt;dbl&gt; -137.6043, -137.5978, -137.5715, -137.4530, -137.4132…</span></span>
<span id="cb15-21"><a href="#cb15-21" tabindex="-1"></a><span class="co">#&gt; $ DateTime1        &lt;dttm&gt; 2013-01-13 06:27:39, 2013-01-13 06:58:04, 2013-01-13…</span></span>
<span id="cb15-22"><a href="#cb15-22" tabindex="-1"></a><span class="co">#&gt; $ lat2             &lt;dbl&gt; 39.36716, 39.42950, 39.51933, 39.66082, 39.66133, 39.…</span></span>
<span id="cb15-23"><a href="#cb15-23" tabindex="-1"></a><span class="co">#&gt; $ lon2             &lt;dbl&gt; -137.5817, -137.5715, -137.5277, -137.4132, -137.4130…</span></span>
<span id="cb15-24"><a href="#cb15-24" tabindex="-1"></a><span class="co">#&gt; $ DateTime2        &lt;dttm&gt; 2013-01-13 06:46:25, 2013-01-13 07:20:02, 2013-01-13…</span></span>
<span id="cb15-25"><a href="#cb15-25" tabindex="-1"></a><span class="co">#&gt; $ mlat             &lt;dbl&gt; 39.34377, 39.40288, 39.47435, 39.61433, 39.66108, 39.…</span></span>
<span id="cb15-26"><a href="#cb15-26" tabindex="-1"></a><span class="co">#&gt; $ mlon             &lt;dbl&gt; -137.5930, -137.5848, -137.5493, -137.4327, -137.4131…</span></span>
<span id="cb15-27"><a href="#cb15-27" tabindex="-1"></a><span class="co">#&gt; $ mDateTime        &lt;dttm&gt; 2013-01-13 06:37:02, 2013-01-13 07:09:03, 2013-01-13…</span></span>
<span id="cb15-28"><a href="#cb15-28" tabindex="-1"></a><span class="co">#&gt; $ dist             &lt;dbl&gt; 5.5577, 6.3431, 10.6674, 10.8651, 0.0574, 1.4189, 1.9…</span></span>
<span id="cb15-29"><a href="#cb15-29" tabindex="-1"></a><span class="co">#&gt; $ year             &lt;dbl&gt; 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013,…</span></span>
<span id="cb15-30"><a href="#cb15-30" tabindex="-1"></a><span class="co">#&gt; $ month            &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…</span></span>
<span id="cb15-31"><a href="#cb15-31" tabindex="-1"></a><span class="co">#&gt; $ day              &lt;int&gt; 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1…</span></span>
<span id="cb15-32"><a href="#cb15-32" tabindex="-1"></a><span class="co">#&gt; $ mtime            &lt;chr&gt; &quot;06:37:02&quot;, &quot;07:09:03&quot;, &quot;07:38:33&quot;, &quot;09:40:55&quot;, &quot;09:5…</span></span>
<span id="cb15-33"><a href="#cb15-33" tabindex="-1"></a><span class="co">#&gt; $ Cruise           &lt;dbl&gt; 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000,…</span></span>
<span id="cb15-34"><a href="#cb15-34" tabindex="-1"></a><span class="co">#&gt; $ Mode             &lt;chr&gt; &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;…</span></span>
<span id="cb15-35"><a href="#cb15-35" tabindex="-1"></a><span class="co">#&gt; $ EffType          &lt;chr&gt; &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;…</span></span>
<span id="cb15-36"><a href="#cb15-36" tabindex="-1"></a><span class="co">#&gt; $ ESWsides         &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,…</span></span>
<span id="cb15-37"><a href="#cb15-37" tabindex="-1"></a><span class="co">#&gt; $ maxdistBft       &lt;dbl&gt; 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 3, 3, 3, 3, 2, 3, 2, 2,…</span></span>
<span id="cb15-38"><a href="#cb15-38" tabindex="-1"></a><span class="co">#&gt; $ maxdistSwellHght &lt;dbl&gt; 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,…</span></span>
<span id="cb15-39"><a href="#cb15-39" tabindex="-1"></a><span class="co">#&gt; $ maxdistVis       &lt;dbl&gt; 6.0, 6.0, 5.5, 5.5, 6.0, 6.0, 5.5, 4.5, 3.5, 2.5, 5.8…</span></span>
<span id="cb15-40"><a href="#cb15-40" tabindex="-1"></a><span class="co">#&gt; $ nSI_018          &lt;dbl&gt; 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…</span></span>
<span id="cb15-41"><a href="#cb15-41" tabindex="-1"></a><span class="co">#&gt; $ ANI_018          &lt;dbl&gt; 42.33333, 0.00000, 0.00000, 0.00000, 0.00000, 0.00000…</span></span>
<span id="cb15-42"><a href="#cb15-42" tabindex="-1"></a><span class="co">#&gt; $ nSI_076          &lt;dbl&gt; 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…</span></span>
<span id="cb15-43"><a href="#cb15-43" tabindex="-1"></a><span class="co">#&gt; $ ANI_076          &lt;dbl&gt; 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="fu">glimpse</span>(y.eff.sight<span class="sc">$</span>sightinfo)</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="co">#&gt; Rows: 13</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="co">#&gt; Columns: 64</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="co">#&gt; $ segnum       &lt;int&gt; 1, 3, 4, 13, 13, 15, 17, 18, 18, 20, 20, 20, 20</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="co">#&gt; $ mlat         &lt;dbl&gt; 39.34377, 39.47435, 39.61433, 40.20895, 40.20895, 40.3483…</span></span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a><span class="co">#&gt; $ mlon         &lt;dbl&gt; -137.5930, -137.5493, -137.4327, -137.1531, -137.1531, -1…</span></span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a><span class="co">#&gt; $ Event        &lt;chr&gt; &quot;S&quot;, &quot;S&quot;, &quot;t&quot;, &quot;t&quot;, &quot;S&quot;, &quot;t&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S…</span></span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a><span class="co">#&gt; $ DateTime     &lt;dttm&gt; 2013-01-13 06:46:02, 2013-01-13 07:56:22, 2013-01-13 09:3…</span></span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a><span class="co">#&gt; $ year         &lt;dbl&gt; 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 20…</span></span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a><span class="co">#&gt; $ Lat          &lt;dbl&gt; 39.36617, 39.51767, 39.59733, 40.18283, 40.26567, 40.3605…</span></span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a><span class="co">#&gt; $ Lon          &lt;dbl&gt; -137.5820, -137.5285, -137.4400, -137.1622, -137.1350, -1…</span></span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a><span class="co">#&gt; $ OnEffort     &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRU…</span></span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a><span class="co">#&gt; $ Cruise       &lt;dbl&gt; 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 100…</span></span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a><span class="co">#&gt; $ Mode         &lt;chr&gt; &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C…</span></span>
<span id="cb16-16"><a href="#cb16-16" tabindex="-1"></a><span class="co">#&gt; $ OffsetGMT    &lt;int&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5</span></span>
<span id="cb16-17"><a href="#cb16-17" tabindex="-1"></a><span class="co">#&gt; $ EffType      &lt;chr&gt; &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S…</span></span>
<span id="cb16-18"><a href="#cb16-18" tabindex="-1"></a><span class="co">#&gt; $ ESWsides     &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2</span></span>
<span id="cb16-19"><a href="#cb16-19" tabindex="-1"></a><span class="co">#&gt; $ Course       &lt;dbl&gt; 25, 26, 27, 20, 20, 16, 25, 30, 30, 23, 23, 23, 23</span></span>
<span id="cb16-20"><a href="#cb16-20" tabindex="-1"></a><span class="co">#&gt; $ SpdKt        &lt;dbl&gt; 10.2, 9.7, 9.0, 9.3, 9.3, 8.9, 8.9, 9.5, 9.5, 9.6, 9.6, 9…</span></span>
<span id="cb16-21"><a href="#cb16-21" tabindex="-1"></a><span class="co">#&gt; $ Bft          &lt;dbl&gt; 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2</span></span>
<span id="cb16-22"><a href="#cb16-22" tabindex="-1"></a><span class="co">#&gt; $ SwellHght    &lt;dbl&gt; 3, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1</span></span>
<span id="cb16-23"><a href="#cb16-23" tabindex="-1"></a><span class="co">#&gt; $ WindSpdKt    &lt;dbl&gt; 10, 10, 10, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5</span></span>
<span id="cb16-24"><a href="#cb16-24" tabindex="-1"></a><span class="co">#&gt; $ RainFog      &lt;dbl&gt; 1, 3, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3</span></span>
<span id="cb16-25"><a href="#cb16-25" tabindex="-1"></a><span class="co">#&gt; $ HorizSun     &lt;dbl&gt; NA, 2, 2, 8, 8, 9, 8, 8, 8, NA, NA, NA, NA</span></span>
<span id="cb16-26"><a href="#cb16-26" tabindex="-1"></a><span class="co">#&gt; $ VertSun      &lt;dbl&gt; NA, 2, 2, 1, 1, 1, 2, 2, 2, NA, NA, NA, NA</span></span>
<span id="cb16-27"><a href="#cb16-27" tabindex="-1"></a><span class="co">#&gt; $ Glare        &lt;lgl&gt; NA, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALS…</span></span>
<span id="cb16-28"><a href="#cb16-28" tabindex="-1"></a><span class="co">#&gt; $ Vis          &lt;dbl&gt; 6.0, 5.5, 5.5, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 4.0, 4.0, 4.…</span></span>
<span id="cb16-29"><a href="#cb16-29" tabindex="-1"></a><span class="co">#&gt; $ ObsL         &lt;chr&gt; &quot;208&quot;, &quot;125&quot;, &quot;001&quot;, &quot;280&quot;, &quot;280&quot;, &quot;125&quot;, &quot;149&quot;, &quot;126&quot;, &quot;…</span></span>
<span id="cb16-30"><a href="#cb16-30" tabindex="-1"></a><span class="co">#&gt; $ Rec          &lt;chr&gt; &quot;280&quot;, &quot;208&quot;, &quot;126&quot;, &quot;001&quot;, &quot;001&quot;, &quot;208&quot;, &quot;125&quot;, &quot;149&quot;, &quot;…</span></span>
<span id="cb16-31"><a href="#cb16-31" tabindex="-1"></a><span class="co">#&gt; $ ObsR         &lt;chr&gt; &quot;001&quot;, &quot;280&quot;, &quot;149&quot;, &quot;126&quot;, &quot;126&quot;, &quot;280&quot;, &quot;208&quot;, &quot;125&quot;, &quot;…</span></span>
<span id="cb16-32"><a href="#cb16-32" tabindex="-1"></a><span class="co">#&gt; $ ObsInd       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA</span></span>
<span id="cb16-33"><a href="#cb16-33" tabindex="-1"></a><span class="co">#&gt; $ EffortDot    &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRU…</span></span>
<span id="cb16-34"><a href="#cb16-34" tabindex="-1"></a><span class="co">#&gt; $ EventNum     &lt;chr&gt; &quot;15&quot;, &quot;35&quot;, &quot;59&quot;, &quot;131&quot;, &quot;136&quot;, &quot;153&quot;, &quot;167&quot;, &quot;181&quot;, &quot;181…</span></span>
<span id="cb16-35"><a href="#cb16-35" tabindex="-1"></a><span class="co">#&gt; $ file_das     &lt;chr&gt; &quot;das_sample.das&quot;, &quot;das_sample.das&quot;, &quot;das_sample.das&quot;, &quot;da…</span></span>
<span id="cb16-36"><a href="#cb16-36" tabindex="-1"></a><span class="co">#&gt; $ line_num     &lt;int&gt; 15, 38, 65, 137, 142, 162, 176, 193, 193, 248, 248, 252, …</span></span>
<span id="cb16-37"><a href="#cb16-37" tabindex="-1"></a><span class="co">#&gt; $ SightNo      &lt;chr&gt; &quot;1406&quot;, &quot;1407&quot;, NA, NA, &quot;1408&quot;, NA, &quot;1409&quot;, &quot;1410&quot;, &quot;1410…</span></span>
<span id="cb16-38"><a href="#cb16-38" tabindex="-1"></a><span class="co">#&gt; $ Subgroup     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA</span></span>
<span id="cb16-39"><a href="#cb16-39" tabindex="-1"></a><span class="co">#&gt; $ SightNoDaily &lt;chr&gt; &quot;20130113_1&quot;, &quot;20130113_2&quot;, NA, NA, &quot;20130113_3&quot;, NA, &quot;20…</span></span>
<span id="cb16-40"><a href="#cb16-40" tabindex="-1"></a><span class="co">#&gt; $ Obs          &lt;chr&gt; &quot;208&quot;, &quot;125&quot;, &quot;280&quot;, &quot;228&quot;, &quot;280&quot;, &quot;231&quot;, &quot;149&quot;, &quot;125&quot;, &quot;…</span></span>
<span id="cb16-41"><a href="#cb16-41" tabindex="-1"></a><span class="co">#&gt; $ ObsStd       &lt;lgl&gt; TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, TRUE, TRUE, TRUE, …</span></span>
<span id="cb16-42"><a href="#cb16-42" tabindex="-1"></a><span class="co">#&gt; $ Bearing      &lt;dbl&gt; 309, 326, 120, 300, 270, 45, 344, 70, 70, 359, 359, 38, 38</span></span>
<span id="cb16-43"><a href="#cb16-43" tabindex="-1"></a><span class="co">#&gt; $ Reticle      &lt;dbl&gt; 2.8, 0.4, NA, NA, 14.0, NA, 0.2, 1.4, 1.4, 0.3, 0.3, 0.8,…</span></span>
<span id="cb16-44"><a href="#cb16-44" tabindex="-1"></a><span class="co">#&gt; $ DistNm       &lt;dbl&gt; 1.06, 2.97, 0.03, 0.02, 0.28, 0.05, 3.68, 1.66, 1.66, 3.2…</span></span>
<span id="cb16-45"><a href="#cb16-45" tabindex="-1"></a><span class="co">#&gt; $ Cue          &lt;dbl&gt; 3, 3, NA, NA, 3, NA, 3, 3, 3, 2, 2, 3, 3</span></span>
<span id="cb16-46"><a href="#cb16-46" tabindex="-1"></a><span class="co">#&gt; $ Method       &lt;dbl&gt; 4, 4, NA, NA, 4, NA, 4, 4, 4, 4, 4, 4, 4</span></span>
<span id="cb16-47"><a href="#cb16-47" tabindex="-1"></a><span class="co">#&gt; $ Photos       &lt;chr&gt; &quot;N&quot;, &quot;Y&quot;, NA, NA, &quot;N&quot;, NA, &quot;Y&quot;, &quot;Y&quot;, &quot;Y&quot;, &quot;Y&quot;, &quot;Y&quot;, &quot;Y&quot;, …</span></span>
<span id="cb16-48"><a href="#cb16-48" tabindex="-1"></a><span class="co">#&gt; $ Birds        &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, NA, NA, &quot;N&quot;, NA, &quot;Y&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, …</span></span>
<span id="cb16-49"><a href="#cb16-49" tabindex="-1"></a><span class="co">#&gt; $ CalibSchool  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA</span></span>
<span id="cb16-50"><a href="#cb16-50" tabindex="-1"></a><span class="co">#&gt; $ PhotosAerial &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA</span></span>
<span id="cb16-51"><a href="#cb16-51" tabindex="-1"></a><span class="co">#&gt; $ Biopsy       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA</span></span>
<span id="cb16-52"><a href="#cb16-52" tabindex="-1"></a><span class="co">#&gt; $ Prob         &lt;lgl&gt; FALSE, FALSE, NA, NA, FALSE, NA, FALSE, FALSE, FALSE, FAL…</span></span>
<span id="cb16-53"><a href="#cb16-53" tabindex="-1"></a><span class="co">#&gt; $ nSp          &lt;int&gt; 1, 1, NA, NA, 1, NA, 1, 2, 2, 2, 2, 2, 2</span></span>
<span id="cb16-54"><a href="#cb16-54" tabindex="-1"></a><span class="co">#&gt; $ Mixed        &lt;lgl&gt; FALSE, FALSE, NA, NA, FALSE, NA, FALSE, TRUE, TRUE, TRUE,…</span></span>
<span id="cb16-55"><a href="#cb16-55" tabindex="-1"></a><span class="co">#&gt; $ SpCode       &lt;chr&gt; &quot;018&quot;, &quot;076&quot;, &quot;LV&quot;, &quot;DC&quot;, &quot;037&quot;, &quot;DC&quot;, &quot;016&quot;, &quot;013&quot;, &quot;016…</span></span>
<span id="cb16-56"><a href="#cb16-56" tabindex="-1"></a><span class="co">#&gt; $ SpCodeProb   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, &quot;016&quot;, &quot;016&quot;</span></span>
<span id="cb16-57"><a href="#cb16-57" tabindex="-1"></a><span class="co">#&gt; $ GsSchoolBest &lt;dbl&gt; NA, 8.00000, 1.00000, 1.00000, 10.66667, 1.00000, 46.6666…</span></span>
<span id="cb16-58"><a href="#cb16-58" tabindex="-1"></a><span class="co">#&gt; $ GsSchoolHigh &lt;dbl&gt; NA, 14.00, NA, NA, 20.00, NA, 79.00, 72.75, 72.75, 249.00…</span></span>
<span id="cb16-59"><a href="#cb16-59" tabindex="-1"></a><span class="co">#&gt; $ GsSchoolLow  &lt;dbl&gt; 42.333333, 5.666667, NA, NA, 10.666667, NA, 46.666667, 41…</span></span>
<span id="cb16-60"><a href="#cb16-60" tabindex="-1"></a><span class="co">#&gt; $ GsSpBest     &lt;dbl&gt; NA, 8.00000, 1.00000, 1.00000, 10.66667, 1.00000, 46.6666…</span></span>
<span id="cb16-61"><a href="#cb16-61" tabindex="-1"></a><span class="co">#&gt; $ GsSpHigh     &lt;dbl&gt; NA, 14.0000, NA, NA, 20.0000, NA, 79.0000, 52.3800, 20.37…</span></span>
<span id="cb16-62"><a href="#cb16-62" tabindex="-1"></a><span class="co">#&gt; $ GsSpLow      &lt;dbl&gt; 42.333333, 5.666667, NA, NA, 10.666667, NA, 46.666667, 30…</span></span>
<span id="cb16-63"><a href="#cb16-63" tabindex="-1"></a><span class="co">#&gt; $ CourseSchool &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA</span></span>
<span id="cb16-64"><a href="#cb16-64" tabindex="-1"></a><span class="co">#&gt; $ TurtleJFR    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA</span></span>
<span id="cb16-65"><a href="#cb16-65" tabindex="-1"></a><span class="co">#&gt; $ TurtleAge    &lt;chr&gt; NA, NA, &quot;A&quot;, &quot;J&quot;, NA, &quot;A&quot;, NA, NA, NA, NA, NA, NA, NA</span></span>
<span id="cb16-66"><a href="#cb16-66" tabindex="-1"></a><span class="co">#&gt; $ TurtleCapt   &lt;chr&gt; NA, NA, &quot;N&quot;, &quot;N&quot;, NA, NA, NA, NA, NA, NA, NA, NA, NA</span></span>
<span id="cb16-67"><a href="#cb16-67" tabindex="-1"></a><span class="co">#&gt; $ PerpDistKm   &lt;dbl&gt; 1.52563078, 3.07580701, 0.04811637, 0.03207758, 0.5185600…</span></span>
<span id="cb16-68"><a href="#cb16-68" tabindex="-1"></a><span class="co">#&gt; $ included     &lt;lgl&gt; TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FAL…</span></span></code></pre></div>
</div>
<div id="strata" class="section level2">
<h2>Strata</h2>
<p>This package contains several methods to incorporate strata into your
DAS data processing: <code>das_intersects_strata</code> for assigning
points to strata and <code>das_effort</code> for chopping effort lines
by strata. These functions contain a ‘strata.files’ argument, which
expects a (named) list of paths to CSV files; names are automatically
generated if not provided. These files must have headers, longitude
values in column one and latitude values in column two, and be closed
polygons.</p>
<p>First, <code>das_intersects_strata</code> allows you to add columns
to data frames indicating if a point intersects one or more strata
polygons. You can pass this function either a data frame or a list. If a
list then it must be the output of <code>das_effort</code> or
<code>das_effort_sight</code>, and the function will use the segment
midpoints to determine if a segment (and associated sightings)
intersected each stratum.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>stratum.file <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&quot;das_sample_stratum.csv&quot;</span>, <span class="at">package =</span> <span class="st">&quot;swfscDAS&quot;</span>)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>y.eff.sight.strata <span class="ot">&lt;-</span> <span class="fu">das_intersects_strata</span>(y.eff.sight, <span class="fu">list</span>(<span class="at">InPoly =</span> stratum.file))</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a><span class="fu">glimpse</span>(y.eff.sight.strata<span class="sc">$</span>segdata)</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="co">#&gt; Rows: 20</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a><span class="co">#&gt; Columns: 32</span></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a><span class="co">#&gt; $ segnum           &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16…</span></span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a><span class="co">#&gt; $ section_id       &lt;int&gt; 1, 2, 2, 3, 3, 3, 3, 3, 3, 3, 4, 4, 5, 6, 6, 7, 7, 8,…</span></span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a><span class="co">#&gt; $ section_sub_id   &lt;dbl&gt; 1, 1, 2, 1, 2, 3, 4, 5, 6, 7, 1, 2, 1, 1, 2, 1, 2, 1,…</span></span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a><span class="co">#&gt; $ file             &lt;chr&gt; &quot;das_sample.das&quot;, &quot;das_sample.das&quot;, &quot;das_sample.das&quot;,…</span></span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="co">#&gt; $ stlin            &lt;int&gt; 2, 23, 33, 59, 69, 70, 75, 78, 84, 85, 99, 108, 127, …</span></span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a><span class="co">#&gt; $ endlin           &lt;int&gt; 20, 33, 43, 69, 70, 75, 78, 84, 85, 90, 108, 121, 147…</span></span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a><span class="co">#&gt; $ lat1             &lt;dbl&gt; 39.32033, 39.37617, 39.42950, 39.56800, 39.66082, 39.…</span></span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a><span class="co">#&gt; $ lon1             &lt;dbl&gt; -137.6043, -137.5978, -137.5715, -137.4530, -137.4132…</span></span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a><span class="co">#&gt; $ DateTime1        &lt;dttm&gt; 2013-01-13 06:27:39, 2013-01-13 06:58:04, 2013-01-13…</span></span>
<span id="cb17-16"><a href="#cb17-16" tabindex="-1"></a><span class="co">#&gt; $ lat2             &lt;dbl&gt; 39.36716, 39.42950, 39.51933, 39.66082, 39.66133, 39.…</span></span>
<span id="cb17-17"><a href="#cb17-17" tabindex="-1"></a><span class="co">#&gt; $ lon2             &lt;dbl&gt; -137.5817, -137.5715, -137.5277, -137.4132, -137.4130…</span></span>
<span id="cb17-18"><a href="#cb17-18" tabindex="-1"></a><span class="co">#&gt; $ DateTime2        &lt;dttm&gt; 2013-01-13 06:46:25, 2013-01-13 07:20:02, 2013-01-13…</span></span>
<span id="cb17-19"><a href="#cb17-19" tabindex="-1"></a><span class="co">#&gt; $ mlat             &lt;dbl&gt; 39.34377, 39.40288, 39.47435, 39.61433, 39.66108, 39.…</span></span>
<span id="cb17-20"><a href="#cb17-20" tabindex="-1"></a><span class="co">#&gt; $ mlon             &lt;dbl&gt; -137.5930, -137.5848, -137.5493, -137.4327, -137.4131…</span></span>
<span id="cb17-21"><a href="#cb17-21" tabindex="-1"></a><span class="co">#&gt; $ mDateTime        &lt;dttm&gt; 2013-01-13 06:37:02, 2013-01-13 07:09:03, 2013-01-13…</span></span>
<span id="cb17-22"><a href="#cb17-22" tabindex="-1"></a><span class="co">#&gt; $ dist             &lt;dbl&gt; 5.5577, 6.3431, 10.6674, 10.8651, 0.0574, 1.4189, 1.9…</span></span>
<span id="cb17-23"><a href="#cb17-23" tabindex="-1"></a><span class="co">#&gt; $ year             &lt;dbl&gt; 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013,…</span></span>
<span id="cb17-24"><a href="#cb17-24" tabindex="-1"></a><span class="co">#&gt; $ month            &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…</span></span>
<span id="cb17-25"><a href="#cb17-25" tabindex="-1"></a><span class="co">#&gt; $ day              &lt;int&gt; 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 1…</span></span>
<span id="cb17-26"><a href="#cb17-26" tabindex="-1"></a><span class="co">#&gt; $ mtime            &lt;chr&gt; &quot;06:37:02&quot;, &quot;07:09:03&quot;, &quot;07:38:33&quot;, &quot;09:40:55&quot;, &quot;09:5…</span></span>
<span id="cb17-27"><a href="#cb17-27" tabindex="-1"></a><span class="co">#&gt; $ Cruise           &lt;dbl&gt; 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000,…</span></span>
<span id="cb17-28"><a href="#cb17-28" tabindex="-1"></a><span class="co">#&gt; $ Mode             &lt;chr&gt; &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;…</span></span>
<span id="cb17-29"><a href="#cb17-29" tabindex="-1"></a><span class="co">#&gt; $ EffType          &lt;chr&gt; &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;…</span></span>
<span id="cb17-30"><a href="#cb17-30" tabindex="-1"></a><span class="co">#&gt; $ ESWsides         &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,…</span></span>
<span id="cb17-31"><a href="#cb17-31" tabindex="-1"></a><span class="co">#&gt; $ maxdistBft       &lt;dbl&gt; 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 3, 3, 3, 3, 2, 3, 2, 2,…</span></span>
<span id="cb17-32"><a href="#cb17-32" tabindex="-1"></a><span class="co">#&gt; $ maxdistSwellHght &lt;dbl&gt; 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,…</span></span>
<span id="cb17-33"><a href="#cb17-33" tabindex="-1"></a><span class="co">#&gt; $ maxdistVis       &lt;dbl&gt; 6.0, 6.0, 5.5, 5.5, 6.0, 6.0, 5.5, 4.5, 3.5, 2.5, 5.8…</span></span>
<span id="cb17-34"><a href="#cb17-34" tabindex="-1"></a><span class="co">#&gt; $ nSI_018          &lt;dbl&gt; 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…</span></span>
<span id="cb17-35"><a href="#cb17-35" tabindex="-1"></a><span class="co">#&gt; $ ANI_018          &lt;dbl&gt; 42.33333, 0.00000, 0.00000, 0.00000, 0.00000, 0.00000…</span></span>
<span id="cb17-36"><a href="#cb17-36" tabindex="-1"></a><span class="co">#&gt; $ nSI_076          &lt;dbl&gt; 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…</span></span>
<span id="cb17-37"><a href="#cb17-37" tabindex="-1"></a><span class="co">#&gt; $ ANI_076          &lt;dbl&gt; 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…</span></span>
<span id="cb17-38"><a href="#cb17-38" tabindex="-1"></a><span class="co">#&gt; $ InPoly           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1,…</span></span></code></pre></div>
<p>In addition, you can chop/split effort lines by strata using the
‘strata.files’ argument of <code>das_effort</code>. Effort lines are
chopped/split by strata before then being processed using the specified
method (condition, equal length, etc.). The ‘segdata’ element of the
<code>das_effort</code> output will contain a ‘stratum’ column, which
contains the name of the stratum that the segment is in. See
<code>?das_effort</code> and <code>?das_effort_strata</code> for more
details.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>y.eff.strata.section <span class="ot">&lt;-</span> <span class="fu">das_effort</span>(</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>  y.proc, <span class="at">method =</span> <span class="st">&quot;section&quot;</span>, <span class="at">strata.files =</span> <span class="fu">list</span>(stratum.file),</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>  <span class="at">num.cores =</span> <span class="dv">1</span></span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>)</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a><span class="co">#&gt; although coordinates are longitude/latitude, st_intersection assumes that they</span></span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a><span class="co">#&gt; are planar</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>y.eff.strata.condition <span class="ot">&lt;-</span> <span class="fu">das_effort</span>(</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>  y.proc, <span class="at">method =</span> <span class="st">&quot;condition&quot;</span>, <span class="at">seg.min.km =</span> <span class="dv">0</span>, </span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>  <span class="at">strata.files =</span> <span class="fu">list</span>(<span class="at">Poly1 =</span> stratum.file),</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>  <span class="at">num.cores =</span> <span class="dv">1</span></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>)</span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a><span class="co">#&gt; although coordinates are longitude/latitude, st_intersection assumes that they</span></span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a><span class="co">#&gt; are planar</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="fu">glimpse</span>(y.eff.strata.section<span class="sc">$</span>segdata)</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a><span class="co">#&gt; Rows: 10</span></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a><span class="co">#&gt; Columns: 33</span></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a><span class="co">#&gt; $ segnum         &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10</span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a><span class="co">#&gt; $ section_id     &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10</span></span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a><span class="co">#&gt; $ section_sub_id &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1</span></span>
<span id="cb20-8"><a href="#cb20-8" tabindex="-1"></a><span class="co">#&gt; $ file           &lt;chr&gt; &quot;das_sample.das&quot;, &quot;das_sample.das&quot;, &quot;das_sample.das&quot;, &quot;…</span></span>
<span id="cb20-9"><a href="#cb20-9" tabindex="-1"></a><span class="co">#&gt; $ stlin          &lt;int&gt; 2, 23, 59, 99, 127, 150, 167, 188, 232, 242</span></span>
<span id="cb20-10"><a href="#cb20-10" tabindex="-1"></a><span class="co">#&gt; $ endlin         &lt;int&gt; 20, 43, 90, 121, 147, 164, 181, 199, 240, 259</span></span>
<span id="cb20-11"><a href="#cb20-11" tabindex="-1"></a><span class="co">#&gt; $ lat1           &lt;dbl&gt; 39.32033, 39.37617, 39.56800, 39.94517, 40.15217, 40.26…</span></span>
<span id="cb20-12"><a href="#cb20-12" tabindex="-1"></a><span class="co">#&gt; $ lon1           &lt;dbl&gt; -137.6043, -137.5978, -137.4530, -137.3692, -137.1737, …</span></span>
<span id="cb20-13"><a href="#cb20-13" tabindex="-1"></a><span class="co">#&gt; $ DateTime1      &lt;dttm&gt; 2013-01-13 06:27:39, 2013-01-13 06:58:04, 2013-01-13 09…</span></span>
<span id="cb20-14"><a href="#cb20-14" tabindex="-1"></a><span class="co">#&gt; $ lat2           &lt;dbl&gt; 39.36716, 39.51933, 39.75433, 40.12745, 40.26617, 40.37…</span></span>
<span id="cb20-15"><a href="#cb20-15" tabindex="-1"></a><span class="co">#&gt; $ lon2           &lt;dbl&gt; -137.5817, -137.5277, -137.4107, -137.2488, -137.1348, …</span></span>
<span id="cb20-16"><a href="#cb20-16" tabindex="-1"></a><span class="co">#&gt; $ DateTime2      &lt;dttm&gt; 2013-01-13 06:46:25, 2013-01-13 07:57:05, 2013-01-13 10…</span></span>
<span id="cb20-17"><a href="#cb20-17" tabindex="-1"></a><span class="co">#&gt; $ mlat           &lt;dbl&gt; 39.34377, 39.44767, 39.66117, 40.03679, 40.20895, 40.32…</span></span>
<span id="cb20-18"><a href="#cb20-18" tabindex="-1"></a><span class="co">#&gt; $ mlon           &lt;dbl&gt; -137.5930, -137.5625, -137.4131, -137.3101, -137.1531,…</span></span>
<span id="cb20-19"><a href="#cb20-19" tabindex="-1"></a><span class="co">#&gt; $ mDateTime      &lt;dttm&gt; 2013-01-13 06:37:02, 2013-01-13 07:27:34, 2013-01-13 09…</span></span>
<span id="cb20-20"><a href="#cb20-20" tabindex="-1"></a><span class="co">#&gt; $ dist           &lt;dbl&gt; 5.5577, 17.0106, 21.8086, 22.7090, 13.0922, 12.3011, 8.…</span></span>
<span id="cb20-21"><a href="#cb20-21" tabindex="-1"></a><span class="co">#&gt; $ year           &lt;dbl&gt; 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, …</span></span>
<span id="cb20-22"><a href="#cb20-22" tabindex="-1"></a><span class="co">#&gt; $ month          &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1</span></span>
<span id="cb20-23"><a href="#cb20-23" tabindex="-1"></a><span class="co">#&gt; $ day            &lt;int&gt; 13, 13, 13, 13, 13, 13, 13, 13, 14, 14</span></span>
<span id="cb20-24"><a href="#cb20-24" tabindex="-1"></a><span class="co">#&gt; $ mtime          &lt;chr&gt; &quot;06:37:02&quot;, &quot;07:27:34&quot;, &quot;09:59:20&quot;, &quot;12:34:14&quot;, &quot;14:14:…</span></span>
<span id="cb20-25"><a href="#cb20-25" tabindex="-1"></a><span class="co">#&gt; $ Cruise         &lt;dbl&gt; 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000, 1…</span></span>
<span id="cb20-26"><a href="#cb20-26" tabindex="-1"></a><span class="co">#&gt; $ Mode           &lt;chr&gt; &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;</span></span>
<span id="cb20-27"><a href="#cb20-27" tabindex="-1"></a><span class="co">#&gt; $ EffType        &lt;chr&gt; &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;</span></span>
<span id="cb20-28"><a href="#cb20-28" tabindex="-1"></a><span class="co">#&gt; $ ESWsides       &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2</span></span>
<span id="cb20-29"><a href="#cb20-29" tabindex="-1"></a><span class="co">#&gt; $ avgBft         &lt;dbl&gt; 3.000000, 3.000000, 2.500835, 3.000000, 3.000000, 2.47…</span></span>
<span id="cb20-30"><a href="#cb20-30" tabindex="-1"></a><span class="co">#&gt; $ avgSwellHght   &lt;dbl&gt; 3, 3, 3, 3, 3, 3, 3, 3, 1, 1</span></span>
<span id="cb20-31"><a href="#cb20-31" tabindex="-1"></a><span class="co">#&gt; $ avgHorizSun    &lt;dbl&gt; 2.000000, 2.000000, 2.000000, 12.000000, 8.000000, 8.52…</span></span>
<span id="cb20-32"><a href="#cb20-32" tabindex="-1"></a><span class="co">#&gt; $ avgVertSun     &lt;dbl&gt; 3, 2, 2, 12, 1, 1, 2, 2, NA, NA</span></span>
<span id="cb20-33"><a href="#cb20-33" tabindex="-1"></a><span class="co">#&gt; $ avgGlare       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, NA, NA</span></span>
<span id="cb20-34"><a href="#cb20-34" tabindex="-1"></a><span class="co">#&gt; $ avgVis         &lt;dbl&gt; 6.000000, 5.686447, 5.090748, 5.974103, 6.000000, 6.000…</span></span>
<span id="cb20-35"><a href="#cb20-35" tabindex="-1"></a><span class="co">#&gt; $ avgCourse      &lt;dbl&gt; 23.56198, 27.11868, 95.65614, 34.61155, 20.43919, 16.47…</span></span>
<span id="cb20-36"><a href="#cb20-36" tabindex="-1"></a><span class="co">#&gt; $ avgSpdKt       &lt;dbl&gt; 9.912395, 9.476263, 9.287725, 9.428340, 9.343919, 9.091…</span></span>
<span id="cb20-37"><a href="#cb20-37" tabindex="-1"></a><span class="co">#&gt; $ stratum        &lt;chr&gt; NA, NA, NA, NA, &quot;Stratum1&quot;, &quot;Stratum1&quot;, &quot;Stratum1&quot;, &quot;St…</span></span></code></pre></div>
</div>
<div id="comments" class="section level2">
<h2>Comments</h2>
<p>In addition, you can use <code>das_comments</code> to generate
comment strings. This is particularly useful if looking for comments
with keywords</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>y.comm <span class="ot">&lt;-</span> <span class="fu">das_comments</span>(y.proc)</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="fu">glimpse</span>(<span class="fu">select</span>(y.comm, Event, line_num, comment_str))</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="co">#&gt; Rows: 5</span></span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a><span class="co">#&gt; Columns: 3</span></span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a><span class="co">#&gt; $ Event       &lt;chr&gt; &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;</span></span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a><span class="co">#&gt; $ line_num    &lt;int&gt; 71, 81, 186, 218, 241</span></span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a><span class="co">#&gt; $ comment_str &lt;chr&gt; &quot; Well?              &quot;, &quot; going left to avoid          &quot;, …</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>y.comm[<span class="fu">str_detect</span>(y.comm<span class="sc">$</span>comment_str, <span class="st">&quot;gear&quot;</span>), ] <span class="co">#Could also use grepl() here</span></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="co">#&gt;     Event            DateTime    Lat      Lon OnEffort Cruise Mode OffsetGMT</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a><span class="co">#&gt; 238     C 2013-01-14 11:37:27 41.016 -135.578    FALSE   1000    C         5</span></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a><span class="co">#&gt;     EffType ESWsides Course SpdKt Bft SwellHght WindSpdKt RainFog HorizSun</span></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a><span class="co">#&gt; 238       S        2     35   9.5   2         1         5       3       NA</span></span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a><span class="co">#&gt;     VertSun Glare Vis ObsL Rec ObsR ObsInd Data1 Data2 Data3 Data4 Data5 Data6</span></span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a><span class="co">#&gt; 238      NA    NA   4  149 125  208   &lt;NA&gt;  cros sing  fishi ng ge ar     &lt;NA&gt;</span></span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a><span class="co">#&gt;     Data7 Data8      Data9 Data10 Data11 Data12 EffortDot EventNum</span></span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a><span class="co">#&gt; 238  &lt;NA&gt;  &lt;NA&gt;              &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;     FALSE       11</span></span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a><span class="co">#&gt;           file_das line_num                         comment_str</span></span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a><span class="co">#&gt; 238 das_sample.das      241  crossing fishing gear</span></span></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
